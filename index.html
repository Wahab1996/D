
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pediatric Emergency Differential Finder</title>
  <style>
    body { font-family: Arial; padding: 30px; background: #f4faff; color: #222; }
    h1 { color: #005288; }
    input { width: 60%; padding: 12px; margin-bottom: 20px; font-size: 16px; }
    .result { background: #fff; padding: 15px; margin: 10px 0; border: 1px solid #ccc; }
    .result b { color: #003366; }
  </style>
</head>
<body>
  <h1>Pediatric Emergency Differential Finder</h1>
  <input type="text" id="symptomInput" placeholder="Type symptoms and press Enter (e.g. fever, cough)" onkeydown="handleKey(event)" />
  <div id="results"></div>

  <script>
    let data = [];
    fetch('cases.json')
      .then(res => res.json())
      .then(json => data = json);

    function handleKey(e) {
      if (e.key === 'Enter') {
        const val = document.getElementById('symptomInput').value.toLowerCase();
        const results = document.getElementById('results');
        results.innerHTML = '';
        if (!val) return;

        const inputSymptoms = val.split(',').map(s => s.trim());

        data.forEach(entry => {
          const match = inputSymptoms.every(sym =>
            entry.symptoms.some(e => e.toLowerCase().includes(sym))
          );
          if (match) {
            const div = document.createElement('div');
            div.className = 'result';
            div.innerHTML = `
              <b>Symptoms:</b> ${entry.symptoms.join(', ')}<br>
              <b>Differential Diagnosis:</b> ${entry.differential_diagnosis.join(', ')}<br>
              <b>Final Diagnosis:</b> ${entry.final_diagnosis}<br>
              <b>Treatment:</b> ${entry.suggested_treatment}<br>
              <b>ICD-10:</b> ${entry.ICD10}<br>
              <b>Age Group:</b> ${entry.age_group}<br>
              <b>Red Flags:</b> ${entry.red_flags.join(', ')}
            `;
            results.appendChild(div);
          }
        });
      }
    }
  </script>
</body>
</html>
